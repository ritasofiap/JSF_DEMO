<?xml version="1.0" encoding="UTF-8"?>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:ui="http://java.sun.com/jsf/facelets">
<h:head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<h:outputStylesheet name="css/style.css" />
	<h:outputStylesheet name="bootstrap/css/bootstrap.css" />
	<h:outputScript name="bootstrap/js/bootstrap.js" />

	<!--  <link href=”resources/bootstrap/css/bootstrap.min.css” rel=”stylesheet” type=”text/css” />
		<script type=”text/javascript” src=”resources/bootstrap/js/bootstrap.min.js”></script>
		-->
</h:head>
<h:body>
	<div id="header">
		<ui:insert name="header">
			<ui:include src="/template/common/commonHeader.xhtml" />
		</ui:insert>
	</div>
	<div class="container-fluid ">
		<div class="row " id="Produtos">
			<div class="ViewProducts col-xs-8 col-xs-offset-2">
				<h2>
					<b>Available Products</b>
				</h2>
				<h:form>
					<p:dataTable id="ProductTable" var="Product"
						value="#{ProductBean.getProducts()}" rowKey="#{Product.entityId}"
						emptyMessage="No products found">
						<p:column headerText="ID">
							<h:outputText value="#{Product.entityId}" />
						</p:column>
						<p:column headerText="Name">
							<h:outputText value="#{Product.name}" />
						</p:column>
						<p:column headerText="Val">
							<h:outputText value="#{Product.val}" />
						</p:column>
						<p:column headerText="IVA %">
							<h:outputText value="#{Product.IVA}" />
						</p:column>
						<p:column headerText="PVP €">
							<h:outputText value="#{Product.PVP}" />
						</p:column>
					</p:dataTable>
				</h:form>
				<p></p>
				<p></p>
			</div>
		</div>
		<div class="ProductActions flex-container flex-item col-xs-10 col-xs-offset-1">
			<div class="Add flex-item">
				<h3>
					<span class="glyphicon glyphicon-folder-open"></span><b> Add</b>
				</h3>
				<p></p>
				<h:form>
					Add product details:
					<br />
					<br />
					<h:outputText value="Name: " />
					<br />
					<h:inputText value="#{ProductBean.newProduct.name}"
						placeholder="Enter name" required="true" />
					<br />
					<h:outputText value="Val: " />
					<br />
					<h:inputText value="#{ProductBean.newProduct.val}" required="true" />
					<br />
					<h:outputText value="PVP: " />
					<br />
					<h:inputText value="#{ProductBean.newProduct.PVP}" required="true" />
					<br />
					<br />
					<h:outputText value="IVA: " />
					<br />
					<!--  <h:inputText value="#{ProductBean.newProduct.IVA}" required="true" /> -->
					<p:selectOneRadio style="font-size:12px;" id="IVA"
						value="#{ProductBean.newProduct.IVA}">
						<f:selectItem itemLabel="6" itemValue="6" />
						<p></p>
						<f:selectItem itemLabel="13" itemValue="13" />
						<f:selectItem itemLabel="23" itemValue="23" />
					</p:selectOneRadio>
					<br />
					<br />
					<p:commandButton value="Submit"
						action="#{ProductBean.addNewProduct()}"
						update=":j_idt31:ProductTable" />
				</h:form>
			</div>
			<div class="divider"></div>
			<div class="Remove flex-item">
				<h3>
					<span class="glyphicon glyphicon-remove"></span><b> Delete</b>
				</h3>
				<h:form>		
			Select a product (<b>ID</b>) to remove:
					<br />
					<h:inputText style="width: 50px;"
						value="#{ProductBean.newProduct.entityId}" required="true" />
					<br />
					<br />
					<p:commandButton value="Delete"
						action="#{ProductBean.removeProduct(ProductBean.newProduct.entityId)}"
						update=":j_idt31:ProductTable" />

				</h:form>
				<br /> <b>Or</b> <br /> <br />
				<p:commandButton value="Clear all products"
					action="#{ProductBean.clearTable()}" update=":j_idt31:ProductTable" />
			</div>
			<div class="divider"></div>
			<div class="Edit flex-item">
				<h3>
					<span class="glyphicon glyphicon-edit"></span><b> Edit</b>
				</h3>
				<h:form style="text-align:left; width: 200px;">		
			Select a product (<b>ID</b>) to edit:
					<br />
					<h:inputText style="width: 50px; text-align:center;"
						value="#{ProductBean.newProduct.entityId}" required="true" />
					<br />
					<br />
					<h:outputText value="Name: " />
					<br />
					<h:inputText style="width:90px;"
						value="#{ProductBean.newProduct.name}" required="false" />
						<span> </span>
					<p:commandButton style="font-size:10px;" value="save name"
						action="#{ProductBean.editProductName(ProductBean.newProduct.entityId, ProductBean.newProduct.name)}"
						update=":j_idt31:ProductTable" />
					<br />
					<br />
					<h:outputText value="Val: " />
					<br />
					<h:inputText style="width:90px;"
						value="#{ProductBean.newProduct.val}" required="false" />
						<span> </span>
					<p:commandButton style="font-size:10px;" value="save val"
						action="#{ProductBean.editProductVal(ProductBean.newProduct.entityId, ProductBean.newProduct.val)}"
						update=":j_idt31:ProductTable" />
					<br />
					<br />
					<h:outputText value="PVP: " />
					<br />
					<h:inputText style="width:90px;"
						value="#{ProductBean.newProduct.PVP}" required="false" />
						<span> </span>
					<p:commandButton style="font-size:10px;" value="save PVP"
						action="#{ProductBean.editProductPVP(ProductBean.newProduct.entityId, ProductBean.newProduct.PVP)}"
						update=":j_idt31:ProductTable" />
					<br />
					<br />
					<h:outputText value="IVA: " />
					<br />
					<!--  <h:inputText style="width:90px;" value="#{ProductBean.newProduct.IVA}" required="true" /> -->
					<p:selectOneRadio style="font-size:12px;" id="IVA"
						value="#{ProductBean.newProduct.IVA}">
						<f:selectItem itemLabel="6" itemValue="6" />
						<f:selectItem itemLabel="13" itemValue="13" />
						<f:selectItem itemLabel="23" itemValue="23" />
					</p:selectOneRadio>
					<p:commandButton style="font-size:10px;" value="save IVA"
						action="#{ProductBean.editProductIVA(ProductBean.newProduct.entityId, ProductBean.newProduct.IVA)}"
						update=":j_idt31:ProductTable" />
					<br />
					<br />
				</h:form>
			</div>
		</div>
	</div>
	<div class="backbutton col-xs-4">
		<p:button outcome="index" value="Back">
		</p:button>
	</div>
	<div id="footer">
		<ui:insert name="footer">
			<ui:include src="/template/common/commonFooter.xhtml" />
		</ui:insert>
	</div>
</h:body>
</html>
